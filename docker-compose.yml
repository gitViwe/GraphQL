version: "3.9"

services:

  graphql-api:
    image: hubviwe/graphql.api:1.0.1
    restart: on-failure
    build:
        context: src/
        dockerfile: API/Dockerfile
    environment:
        ASPNETCORE_ENVIRONMENT: Docker
    ports:
      - 5192:80
    links:
      - postgres

  postgres:
    image: postgres
    hostname: postgres
    container_name: postgres
    restart: always
    ports:
      - 5432:5432
    environment:
        POSTGRES_USER: user
        POSTGRES_PASSWORD: pass